(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{351:function(module,exports,__webpack_require__){"use strict";__webpack_require__(35),__webpack_require__(44),Object.defineProperty(exports,"__esModule",{value:!0}),exports.useQrReader=void 0;var react_1=__webpack_require__(3),library_1=__webpack_require__(352),utils_1=__webpack_require__(843);exports.useQrReader=function(_a){var facingMode=_a.facingMode,scanDelay=_a.scanDelay,onResult=_a.onResult,videoId=_a.videoId;react_1.useEffect((function(){var codeReader=new library_1.BrowserQRCodeReader(scanDelay);return codeReader.isMediaDevicesSuported||"function"==typeof onResult&&onResult(null,"NoMediaDevicesSupportException"),codeReader.listVideoInputDevices().then((function(videoInputDevices){return utils_1.getDeviceId(videoInputDevices,facingMode)})).then((function(deviceId){return codeReader.decodeFromVideoDevice(deviceId,videoId,(function(result,error){var exception=error&&error.name||null;"function"==typeof onResult&&onResult(result,exception,codeReader)}))})).catch((function(){"function"==typeof onResult&&onResult(null,"NoDeviceFoundException",codeReader)})),function(){codeReader.stopContinuousDecode(),codeReader.stopAsyncDecode()}}),[])};try{exports.useQrReader.displayName="useQrReader",exports.useQrReader.__docgenInfo={description:"",displayName:"useQrReader",props:{facingMode:{defaultValue:null,description:"The camera to use, especify 'user' for front camera or 'environment' for back camera.",name:"facingMode",required:!1,type:{name:"VideoFacingModeEnum"}},onResult:{defaultValue:null,description:"Callback for retrieving the result",name:"onResult",required:!1,type:{name:"OnResultFunction"}},scanDelay:{defaultValue:null,description:"Property that represents the scan period",name:"scanDelay",required:!1,type:{name:"number"}},videoId:{defaultValue:null,description:"Property that represents the ID of the video element",name:"videoId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/QrReader/hooks.ts#useQrReader"]={docgenInfo:exports.useQrReader.__docgenInfo,name:"useQrReader",path:"src/QrReader/hooks.ts#useQrReader"})}catch(__react_docgen_typescript_loader_error){}},390:function(module,exports,__webpack_require__){"use strict";__webpack_require__(227),__webpack_require__(44);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(351),exports),__exportStar(__webpack_require__(844),exports);try{useQrReader.displayName="useQrReader",useQrReader.__docgenInfo={description:"",displayName:"useQrReader",props:{facingMode:{defaultValue:null,description:"The camera to use, especify 'user' for front camera or 'environment' for back camera.",name:"facingMode",required:!1,type:{name:"VideoFacingModeEnum"}},onResult:{defaultValue:null,description:"Callback for retrieving the result",name:"onResult",required:!1,type:{name:"OnResultFunction"}},scanDelay:{defaultValue:null,description:"Property that represents the scan period",name:"scanDelay",required:!1,type:{name:"number"}},videoId:{defaultValue:null,description:"Property that represents the ID of the video element",name:"videoId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.ts#useQrReader"]={docgenInfo:useQrReader.__docgenInfo,name:"useQrReader",path:"src/index.ts#useQrReader"})}catch(__react_docgen_typescript_loader_error){}},391:function(module,exports,__webpack_require__){__webpack_require__(392),__webpack_require__(554),__webpack_require__(555),__webpack_require__(739),__webpack_require__(751),__webpack_require__(754),module.exports=__webpack_require__(759)},463:function(module,exports){},555:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(295)},759:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(295).configure)([__webpack_require__(760)],module,!1)}).call(this,__webpack_require__(100)(module))},760:function(module,exports,__webpack_require__){var map={"./QrReader.stories.js":761};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=760},761:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ChooseFacingMode",(function(){return ChooseFacingMode})),__webpack_require__.d(__webpack_exports__,"ChooseDelay",(function(){return ChooseDelay})),__webpack_require__.d(__webpack_exports__,"FacingModeNotSpecified",(function(){return FacingModeNotSpecified})),__webpack_require__.d(__webpack_exports__,"OnAndOff",(function(){return OnAndOff}));__webpack_require__(19),__webpack_require__(24),__webpack_require__(27),__webpack_require__(56),__webpack_require__(34),__webpack_require__(25),__webpack_require__(32),__webpack_require__(41),__webpack_require__(35),__webpack_require__(16),__webpack_require__(762),__webpack_require__(33),__webpack_require__(28),__webpack_require__(36);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_src__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(390);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"QrReader"};var ViewFinder=function ViewFinder(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("svg",{width:"50px",viewBox:"0 0 100 100",style:{top:0,left:0,zIndex:1,boxSizing:"border-box",border:"50px solid rgba(0, 0, 0, 0.3)",position:"absolute",width:"100%",height:"100%"}},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("path",{fill:"none",d:"M13,0 L0,0 L0,13",stroke:"rgba(255, 0, 0, 0.5)",strokeWidth:"5"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("path",{fill:"none",d:"M0,87 L0,100 L13,100",stroke:"rgba(255, 0, 0, 0.5)",strokeWidth:"5"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("path",{fill:"none",d:"M87,100 L100,100 L100,87",stroke:"rgba(255, 0, 0, 0.5)",strokeWidth:"5"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("path",{fill:"none",d:"M100,13 L100,0 87,0",stroke:"rgba(255, 0, 0, 0.5)",strokeWidth:"5"})))},QrReaderWrapper=function QrReaderWrapper(_ref){var selectFacingMode=_ref.selectFacingMode,selectDelay=_ref.selectDelay,onAndOff=_ref.onAndOff,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)("user"),2),facingMode=_useState2[0],setFacingMode=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(500),2),delay=_useState4[0],setDelay=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(null),2),error=_useState6[0],setError=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(null),2),data=_useState8[0],setData=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(!0),2),on=_useState10[0],setOn=_useState10[1];return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{style:{width:"400px",margin:"auto"}},onAndOff&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{onClick:function onClick(){return setOn(!on)}},on?"Turn off":"Turn on"),selectFacingMode&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("select",{onChange:function onChange(e){return setFacingMode(e.target.value)}},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("option",{value:"user"},"User"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("option",{value:"environment"},"Environment")),selectDelay&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{onClick:function onClick(){return setDelay(!1)}},"Disable Delay"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input",{type:"number",value:delay,placeholder:"Delay in ms",onChange:function onChange(e){return setDelay(parseInt(e.target.value))}})),on&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_15__.QrReader,{facingMode:facingMode,ViewFinder:ViewFinder,onResult:function onResult(result,error){result&&setData(result),"NotFoundException"!==error&&setError(error)}}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"El valor escaneado es: ",JSON.stringify(data,null,2)),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"El Error es: ",JSON.stringify(error)))};QrReaderWrapper.displayName="QrReaderWrapper";var ChooseFacingMode=function ChooseFacingMode(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(QrReaderWrapper,{selectFacingMode:!0})};ChooseFacingMode.displayName="ChooseFacingMode";var ChooseDelay=function ChooseDelay(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(QrReaderWrapper,{selectDelay:!0})};ChooseDelay.displayName="ChooseDelay";var FacingModeNotSpecified=function FacingModeNotSpecified(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(QrReaderWrapper,null)};FacingModeNotSpecified.displayName="FacingModeNotSpecified";var OnAndOff=function OnAndOff(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(QrReaderWrapper,{onAndOff:!0})};OnAndOff.displayName="OnAndOff",ChooseFacingMode.__docgenInfo={description:"",methods:[],displayName:"ChooseFacingMode"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/QrReader.stories.js"]={name:"ChooseFacingMode",docgenInfo:ChooseFacingMode.__docgenInfo,path:"stories/QrReader.stories.js"}),ChooseDelay.__docgenInfo={description:"",methods:[],displayName:"ChooseDelay"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/QrReader.stories.js"]={name:"ChooseDelay",docgenInfo:ChooseDelay.__docgenInfo,path:"stories/QrReader.stories.js"}),FacingModeNotSpecified.__docgenInfo={description:"",methods:[],displayName:"FacingModeNotSpecified"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/QrReader.stories.js"]={name:"FacingModeNotSpecified",docgenInfo:FacingModeNotSpecified.__docgenInfo,path:"stories/QrReader.stories.js"}),OnAndOff.__docgenInfo={description:"",methods:[],displayName:"OnAndOff"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/QrReader.stories.js"]={name:"OnAndOff",docgenInfo:OnAndOff.__docgenInfo,path:"stories/QrReader.stories.js"})},843:function(module,exports,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(24),__webpack_require__(27),__webpack_require__(107),__webpack_require__(48),__webpack_require__(25),__webpack_require__(87),__webpack_require__(44),__webpack_require__(16),__webpack_require__(105),__webpack_require__(28),__webpack_require__(49),__webpack_require__(36);var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDeviceId=void 0,exports.getDeviceId=function(videoInputDevices,facingMode){return __awaiter(void 0,void 0,void 0,(function(){var regex,devices,device;return __generator(this,(function(_a){switch(_a.label){case 0:if((videoInputDevices=videoInputDevices.filter((function(deviceInfo){return"videoinput"===deviceInfo.kind}))).length<1)throw new Error("No video input devices found");return regex="environment"===facingMode?/rear|back|environment/gi:/front|user|face/gi,[4,Promise.all(videoInputDevices.filter((function(videoDevice){return regex.test(videoDevice.label)})).map((function(videoDevice){return __awaiter(void 0,void 0,void 0,(function(){var stream;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:videoDevice.deviceId}}})];case 1:return(stream=_a.sent()).getVideoTracks().forEach((function(track){track.getCapabilities(),track.getSettings()})),stream.getTracks().forEach((function(track){return track.stop()})),[2,{deviceId:videoDevice.deviceId,streamError:!1}];case 2:return _a.sent(),[2,{deviceId:videoDevice.deviceId,streamError:!0}];case 3:return[2]}}))}))})))];case 1:if(devices=_a.sent(),!(device=devices.filter((function(device){return!device.streamError}))[0]))throw new Error("No video input devices found");return[2,device.deviceId]}}))}))}},844:function(module,exports,__webpack_require__){"use strict";__webpack_require__(42),__webpack_require__(227),__webpack_require__(44);var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.QrReader=void 0;var React=__importStar(__webpack_require__(3)),styles_1=__importDefault(__webpack_require__(845)),hooks_1=__webpack_require__(351);exports.QrReader=function(_a){var facingMode=_a.facingMode,ViewFinder=_a.ViewFinder,className=_a.className,scanDelay=_a.scanDelay,onResult=_a.onResult,videoId=_a.videoId,style=_a.style,videoStyle=__assign(__assign({},styles_1.default.videoPreview),{transform:"user"===facingMode&&"scaleX(-1)"});return hooks_1.useQrReader({facingMode:facingMode,scanDelay:scanDelay,onResult:onResult,videoId:videoId}),React.createElement("section",{className:className,style:style},React.createElement("section",{style:styles_1.default.container},!!ViewFinder&&React.createElement(ViewFinder,null),React.createElement("video",{id:videoId,muted:!0,style:videoStyle})))},exports.QrReader.displayName="QrReader",exports.QrReader.defaultProps={facingMode:"environment",videoId:"video",scanDelay:500};try{exports.QrReader.displayName="QrReader",exports.QrReader.__docgenInfo={description:"",displayName:"QrReader",props:{facingMode:{defaultValue:{value:"environment"},description:"The camera to use, especify 'user' for front camera or 'environment' for back camera.",name:"facingMode",required:!1,type:{name:"VideoFacingModeEnum"}},className:{defaultValue:null,description:"ClassName for the container element.",name:"className",required:!1,type:{name:"string"}},onResult:{defaultValue:null,description:"Called when an error occurs.",name:"onResult",required:!1,type:{name:"OnResultFunction"}},style:{defaultValue:null,description:"Styling for the container element. Warning The preview will always keep its 1:1 aspect ratio.",name:"style",required:!1,type:{name:"any"}},ViewFinder:{defaultValue:null,description:"Property that represents the view finder component",name:"ViewFinder",required:!1,type:{name:"(props: any) => ReactElement<any, any>"}},scanDelay:{defaultValue:{value:500},description:"Property that represents the scan period",name:"scanDelay",required:!1,type:{name:"number"}},videoId:{defaultValue:{value:"video"},description:"Property that represents the ID of the video element",name:"videoId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/QrReader/index.tsx#QrReader"]={docgenInfo:exports.QrReader.__docgenInfo,name:"QrReader",path:"src/QrReader/index.tsx#QrReader"})}catch(__react_docgen_typescript_loader_error){}try{QrReader.displayName="QrReader",QrReader.__docgenInfo={description:"",displayName:"QrReader",props:{facingMode:{defaultValue:{value:"environment"},description:"The camera to use, especify 'user' for front camera or 'environment' for back camera.",name:"facingMode",required:!1,type:{name:"enum",value:[{value:'"environment"'},{value:'"left"'},{value:'"right"'},{value:'"user"'}]}},className:{defaultValue:null,description:"ClassName for the container element.",name:"className",required:!1,type:{name:"string"}},onResult:{defaultValue:null,description:"Called when an error occurs.",name:"onResult",required:!1,type:{name:"OnResultFunction"}},style:{defaultValue:null,description:"Styling for the container element. Warning The preview will always keep its 1:1 aspect ratio.",name:"style",required:!1,type:{name:"any"}},ViewFinder:{defaultValue:null,description:"Property that represents the view finder component",name:"ViewFinder",required:!1,type:{name:"(props: any) => ReactElement<any, any>"}},scanDelay:{defaultValue:{value:500},description:"Property that represents the scan period",name:"scanDelay",required:!1,type:{name:"number"}},videoId:{defaultValue:{value:"video"},description:"Property that represents the ID of the video element",name:"videoId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/QrReader/index.tsx#QrReader"]={docgenInfo:QrReader.__docgenInfo,name:"QrReader",path:"src/QrReader/index.tsx#QrReader"})}catch(__react_docgen_typescript_loader_error){}},845:function(module,exports,__webpack_require__){"use strict";__webpack_require__(44),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={container:{overflow:"hidden",position:"relative",width:"100%",paddingTop:"100%"},hidden:{display:"none"},videoPreview:{top:0,left:0,display:"block",position:"absolute",overflow:"hidden",width:"100%",height:"100%",objectFit:"cover",transform:void 0}}}},[[391,1,2]]]);
//# sourceMappingURL=main.ab8bc50311fd2ed93e6b.bundle.js.map